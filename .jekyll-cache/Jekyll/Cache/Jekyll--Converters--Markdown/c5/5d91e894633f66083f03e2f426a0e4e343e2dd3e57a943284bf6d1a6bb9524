I"ŒN<p>Javaæ³¨è§£åˆç§°Javaæ ‡æ³¨ï¼Œæ˜¯JDK5.0å¼•å…¥çš„ä¸€ç§æ³¨é‡Šæœºåˆ¶ã€‚</p>

<p>Javaè¯­è¨€ä¸­çš„ç±»ï¼Œæ–¹æ³•ï¼Œå˜é‡ï¼Œå‚æ•°å’ŒåŒ…éƒ½å¯ä»¥è¢«æ ‡æ³¨ã€‚ å’ŒJavadocä¸åŒï¼Œ <em>Javaæ ‡æ³¨å¯ä»¥é€šè¿‡åå°„è·å–æ ‡æ³¨å†…å®¹</em>ã€‚å†ç¼–è¯‘å™¨ç”Ÿæˆç±»æ–‡ä»¶æ—¶ï¼Œæ ‡æ³¨å¯ä»¥è¢«åµŒå…¥åˆ°å­—èŠ‚ç ä¸­ã€‚Javaè™šæ‹Ÿæœºå¯ä»¥ä¿ç•™æ ‡æ³¨å†…å®¹ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥è·å–åˆ°æ ‡æ³¨å†…å®¹ã€‚å½“ç„¶å®ƒé¡µæ”¯æŒè‡ªå®šä¹‰Javaæ ‡æ³¨ã€‚</p>

<h2 id="å†…ç½®çš„æ³¨è§£">å†…ç½®çš„æ³¨è§£</h2>
<p>Javaå®šä¹‰äº†ä¸€å¥—æ³¨è§£ï¼Œå…±æœ‰7ä¸ªï¼Œ3ä¸ªåœ¨Java.langä¸­ï¼Œå‰©ä¸‹4ä¸ªåœ¨Java.lang.annotationä¸­ã€‚</p>

<p>ä½œç”¨åœ¨ä»£ç ä¸­çš„æ³¨è§£æ˜¯ï¼š</p>
<ul>
  <li>@Override - æ£€æŸ¥è¯¥æ–¹æ³•æ˜¯å¦é‡å†™æ–¹æ³•ã€‚ å¦‚æœå‘ç°å…¶çˆ¶ç±»ï¼Œæˆ–è€…æ˜¯å¼•ç”¨çš„æ¥å£å¹¶æ²¡æœ‰è¯¥æ–¹æ³•ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚</li>
  <li>@Deprecated - æ ‡è®°è¿‡æ—¶æ–¹æ³•ã€‚ å¦‚æœä½¿ç”¨è¯¥æ–¹æ³•ï¼Œä¼šæŠ¥ç¼–è¯‘è­¦å‘Šã€‚</li>
  <li>@SupperessWarnings - æŒ‡ç¤ºç¼–è¯‘å™¨å»å¿½ç•¥æ³¨é‡Šä¸­å£°æ˜çš„è­¦å‘Š</li>
</ul>

<p>ä½œç”¨åœ¨å…¶ä»–æ³¨è§£ä¸­çš„æ³¨è§£ï¼ˆæˆ–è€…è¯´ å…ƒæ³¨è§£ï¼‰æ˜¯</p>
<ul>
  <li>@Retention - æ ‡è¯†è¿™ä¸ªæ³¨è§£æ€ä¹ˆä¿å­˜ï¼Œæ˜¯ä¹‹åœ¨ä»£ç ä¸­ï¼Œè¿˜æ˜¯ç¼–å…¥classæ–‡ä»¶ï¼Œæˆ–è€…æ˜¯è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åå°„è®¿é—®</li>
  <li>@Documented - æ ‡è®°è¿™äº›æ³¨è§£æ˜¯å¦åŒ…å«åœ¨ç”¨æˆ·æ–‡æ¡£ä¸­</li>
  <li>@Target - æ ‡è®°è¿™ä¸ªæ³¨è§£åº”è¯¥æ˜¯å“ªç§Javaæˆå‘˜</li>
  <li>@Inherited - æ ‡è®°è¿™ä¸ªæ³¨è§£æ˜¯ç»§æ‰¿å“ªä¸ªæ³¨è§£ç±»ï¼ˆé»˜è®¤ æ³¨è§£å¹¶æ²¡æœ‰ç»§æ‰¿äºä»»ä½•å­ç±»ï¼‰</li>
</ul>

<p>ä»Java7å¼€å§‹ï¼Œé¢å¤–æ·»åŠ äº†3ä¸ªæ³¨è§£ï¼š</p>
<ul>
  <li>@SafaVarags - Java 7å¼€å§‹æ”¯æŒï¼Œå¿½ç•¥ä»»ä½•ä½¿ç”¨å‚æ•°ä¸ºæ³›å‹å˜é‡çš„æ–¹æ³•æˆ–æ„é€ å‡½æ•°è°ƒç”¨äº§ç”Ÿçš„è­¦å‘Š</li>
  <li>@FunctionalInterface - ä»Java 8å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†ä¸€ä¸ªåŒ¿åå‡½æ•°æˆ–å‡½æ•°æ˜¯æ¥å£</li>
  <li>@Repeatable - Java 8å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†æŸæ³¨è§£å¯ä»¥åœ¨åŒä¸€ä¸ªå£°æ˜ä¸Šä½¿ç”¨å¤šæ¬¡</li>
</ul>

<h2 id="1annotationæ¶æ„">1ã€Annotationæ¶æ„</h2>
<p><img src="/images/JavaAnnotation1.png" alt="" /></p>

<p>ä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š</p>

<p><strong>01. 1ä¸ªAnnotationå’Œ1ä¸ªRetentionPolicyå…³è”ã€‚</strong></p>

<p>å¯ä»¥ç†è§£ä¸ºï¼šæ¯1ä¸ªAnnotationå¯¹è±¡ï¼Œéƒ½ä¼šæœ‰å”¯ä¸€çš„RetentionPolicyå±æ€§ã€‚</p>

<p><strong>02. 1ä¸ªAnnotationå’Œ1~nä¸ªElementTypeå…³è”ã€‚</strong></p>

<p>å¯ä»¥ç†è§£ä¸ºï¼šå¯¹äºæ¯1ä¸ªAnnotationå¯¹è±¡ï¼Œå¯ä»¥ç”±è‹¥å¹²ä¸ªElementTypeå±æ€§ã€‚</p>

<p><strong>03. Annotationæœ‰è®¸å¤šå®ç°ç±»ï¼ŒåŒ…æ‹¬ï¼šDeprecated, Documented, Inherited, Override ç­‰ç­‰ã€‚</strong></p>

<p>Annotationçš„æ¯ä¸€ä¸ªå®ç°ç±»ï¼Œéƒ½â€œå’Œ1ä¸ªRetentionPolicyå…³è”â€ä¸”â€œå’Œ1~nä¸ªElementTypeå…³è”â€ã€‚
ä¸‹é¢ï¼Œæˆ‘å…ˆä»‹ç»æ¡†æ¶å›¾çš„å·¦åŠè¾¹(å¦‚ä¸‹å›¾)ï¼Œå³ Annotation, RetentionPolicy, ElementTypeï¼›ç„¶åå†å°± Annotation çš„å®ç°ç±»è¿›è¡Œä¸¾ä¾‹è¯´æ˜ã€‚</p>

<p><img src="/images/JavaAnnotation2.png" alt="" /></p>

<h2 id="2annotationç»„æˆéƒ¨åˆ†">2ã€Annotationç»„æˆéƒ¨åˆ†</h2>
<p>Java Annotationçš„ç»„æˆä¸­ï¼Œæœ‰3ä¸ªéå¸¸é‡è¦çš„ä¸»å¹²ç±»ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
  <li>Annotation.java</li>
</ul>

<pre><code class="language-Java">package java.lang.annotation;  
public interface Annotation {  
  
 boolean equals(Object obj);  
  
 int hashCode();  
  
 String toString();  
  
 Class&lt;? extends Annotation&gt; annotationType();  
}
</code></pre>

<ul>
  <li>ElementType.java</li>
</ul>

<pre><code class="language-Java">package java.lang.annotation;  
  
public enum ElementType {  
 TYPE, /* ç±»ã€æ¥å£ï¼ˆåŒ…æ‹¬æ³¨é‡Šç±»å‹ï¼‰æˆ–æšä¸¾å£°æ˜ Â */  
  
 FIELD, /* å­—æ®µå£°æ˜ï¼ˆåŒ…æ‹¬æšä¸¾å¸¸é‡ï¼‰ Â */  
  
 METHOD, /* æ–¹æ³•å£°æ˜ Â */  
  
 PARAMETER, /* å‚æ•°å£°æ˜ Â */  
  
 CONSTRUCTOR, /* æ„é€ æ–¹æ³•å£°æ˜ Â */  
  
 LOCAL_VARIABLE, /* å±€éƒ¨å˜é‡å£°æ˜ Â */  
  
 ANNOTATION_TYPE, /* æ³¨é‡Šç±»å‹å£°æ˜ Â */  
  
 PACKAGE /* åŒ…å£°æ˜ Â */  
}
</code></pre>

<ul>
  <li>RetentionPolicy.java</li>
</ul>

<pre><code class="language-Java">package java.lang.annotation;  
public enum RetentionPolicy {  
 SOURCE, /* Annotationä¿¡æ¯ä»…å­˜åœ¨äºç¼–è¯‘å™¨å¤„ç†æœŸé—´ï¼Œç¼–è¯‘å™¨å¤„ç†å®Œä¹‹åå°±æ²¡æœ‰è¯¥Annotationä¿¡æ¯äº† Â */  
  
 CLASS, /* ç¼–è¯‘å™¨å°†Annotationå­˜å‚¨äºç±»å¯¹åº”çš„.classæ–‡ä»¶ä¸­ã€‚é»˜è®¤è¡Œä¸º Â */  
  
 RUNTIME /* ç¼–è¯‘å™¨å°†Annotationå­˜å‚¨äºclassæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”å¯ç”±JVMè¯»å…¥ */  
}
</code></pre>

<p>è¯´æ˜ï¼š
<strong>01. Annotationå°±æ˜¯ä¸ªæ¥å£ã€‚</strong> 
â€œæ¯ 1 ä¸ª Annotationâ€ éƒ½ä¸ â€œ1 ä¸ª RetentionPolicyâ€ å…³è”ï¼Œå¹¶ä¸”ä¸ â€œ1ï½n ä¸ª ElementTypeâ€ å…³è”ã€‚å¯ä»¥é€šä¿—çš„ç†è§£ä¸ºï¼šæ¯ 1 ä¸ª Annotation å¯¹è±¡ï¼Œéƒ½ä¼šæœ‰å”¯ä¸€çš„ RetentionPolicy å±æ€§ï¼›è‡³äº ElementType å±æ€§ï¼Œåˆ™æœ‰ 1~n ä¸ªã€‚
<strong>02. ElementTypeæ˜¯Enumæšä¸¾ç±»å‹ï¼Œå®ƒç”¨æ¥æŒ‡å®šAnnotationçš„ç±»å‹ã€‚</strong>
â€œæ¯ 1 ä¸ª Annotationâ€ éƒ½ä¸ â€œ1ï½n ä¸ª ElementTypeâ€ å…³è”ã€‚å½“ Annotation ä¸æŸä¸ª ElementType å…³è”æ—¶ï¼Œå°±æ„å‘³ç€ï¼šAnnotationæœ‰äº†æŸç§ç”¨é€”ã€‚ä¾‹å¦‚ï¼Œè‹¥ä¸€ä¸ª Annotation å¯¹è±¡æ˜¯ METHOD ç±»å‹ï¼Œåˆ™è¯¥ Annotation åªèƒ½ç”¨æ¥ä¿®é¥°æ–¹æ³•ã€‚
<strong>03. RetentionPolicyæ˜¯Enumæšä¸¾ç±»å‹ï¼Œå®ƒç”¨æ¥æŒ‡å®šAnnotationçš„ç­–ç•¥ã€‚é€šä¿—è€Œè¨€ï¼Œå°±æ˜¯ä¸åŒçš„RetentionPolicyç±»å‹çš„Annotationçš„ä½œç”¨åŸŸä¸åŒã€‚</strong>
â€œæ¯ 1 ä¸ª Annotationâ€ éƒ½ä¸ â€œ1 ä¸ª RetentionPolicyâ€ å…³è”ã€‚</p>
<ul>
  <li>a) è‹¥ Annotation çš„ç±»å‹ä¸º SOURCEï¼Œåˆ™æ„å‘³ç€ï¼šAnnotation ä»…å­˜åœ¨äºç¼–è¯‘å™¨å¤„ç†æœŸé—´ï¼Œç¼–è¯‘å™¨å¤„ç†å®Œä¹‹åï¼Œè¯¥ Annotation å°±æ²¡ç”¨äº†ã€‚ ä¾‹å¦‚ï¼Œâ€ @Overrideâ€ æ ‡å¿—å°±æ˜¯ä¸€ä¸ª Annotationã€‚å½“å®ƒä¿®é¥°ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå°±æ„å‘³ç€è¯¥æ–¹æ³•è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼›å¹¶ä¸”åœ¨ç¼–è¯‘æœŸé—´ä¼šè¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼ç¼–è¯‘å™¨å¤„ç†å®Œåï¼Œâ€@Overrideâ€ å°±æ²¡æœ‰ä»»ä½•ä½œç”¨äº†</li>
  <li>b) è‹¥ Annotation çš„ç±»å‹ä¸º CLASSï¼Œåˆ™æ„å‘³ç€ï¼šç¼–è¯‘å™¨å°† Annotation å­˜å‚¨äºç±»å¯¹åº”çš„ .class æ–‡ä»¶ä¸­ï¼Œå®ƒæ˜¯ Annotation çš„é»˜è®¤è¡Œä¸ºã€‚</li>
  <li>c) è‹¥ Annotation çš„ç±»å‹ä¸º RUNTIMEï¼Œåˆ™æ„å‘³ç€ï¼šç¼–è¯‘å™¨å°† Annotation å­˜å‚¨äº class æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”å¯ç”±JVMè¯»å…¥ã€‚
è¿™æ—¶ï¼Œåªéœ€è¦è®°ä½â€æ¯ 1 ä¸ª Annotationâ€ éƒ½ä¸ â€œ1 ä¸ª RetentionPolicyâ€ å…³è”ï¼Œå¹¶ä¸”ä¸ â€œ1ï½n ä¸ª ElementTypeâ€ å…³è”ã€‚å­¦å®Œåé¢çš„å†…å®¹ä¹‹åï¼Œå†å›å¤´çœ‹è¿™äº›å†…å®¹ï¼Œä¼šæ›´å®¹æ˜“ç†è§£ã€‚</li>
</ul>

<h2 id="3javaè‡ªå¸¦çš„annotation">3ã€Javaè‡ªå¸¦çš„Annotation</h2>
<p>ç†è§£äº†ä¸Šé¢çš„3ä¸ªç±»çš„ä½œç”¨ä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å¯ä»¥è®²è§£Annotationå®ç°ç±»çš„è¯­æ³•å®šä¹‰äº†ã€‚</p>

<h3 id="1annotation-é€šç”¨å®šä¹‰">1ï¼‰Annotation é€šç”¨å®šä¹‰</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Documented
@Target(ElementType.TYPE)
@RetentionPolicy(RetentionPolicy.RUNTIME)
public @interface MyAnnotation1{
}
</code></pre></div></div>
<p>è¯´æ˜ï¼š
ä¸Šé¢çš„ä½œç”¨æ˜¯å®šä¹‰ä¸€ä¸ªAnnotationï¼Œå®ƒçš„åå­—æ˜¯MyAnnotation1ã€‚å®šä¹‰äº†MyAnnotation1ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­é€šè¿‡â€@MyAnnotation1â€ æ¥ä½¿ç”¨å®ƒã€‚å…¶ä»–çš„ï¼Œ @Documentedï¼Œ@Targetï¼Œ@Retentionï¼Œ@Interfaceéƒ½æ˜¯ç”¨æ¥ä¿®é¥° MyAnnotation1çš„ã€‚ä¸‹é¢åˆ†åˆ«è¯´è¯´å®ƒä»¬çš„å«ä¹‰ï¼š</p>

<p><strong>01ï¼‰@interface</strong>
ä½¿ç”¨@interfaceå®šä¹‰æ³¨è§£æ—¶ï¼Œæ„å‘³ç€å®ƒå®ç°äº†Java.lang.annotation.Annotationæ¥å£ï¼Œå³è¯¥æ³¨è§£å°±æ˜¯ä¸€ä¸ªAnnotationã€‚
å®šä¹‰Annotationæ—¶ï¼Œ@interfaceæ˜¯å¿…é¡»çš„ã€‚
æ³¨æ„ï¼šå®ƒå’Œæˆ‘ä»¬é€šå¸¸çš„implementedå®ç°æ¥å£çš„æ–¹æ³•ä¸åŒã€‚Annotationæ¥å£çš„å®ç°ç»†èŠ‚éƒ½æœ‰ç¼–è¯‘å™¨å®Œæˆã€‚é€šè¿‡@interfaceå®šä¹‰æ³¨è§£åï¼Œè¯¥æ³¨è§£ä¸èƒ½ç»§æ‰¿å…¶ä»–çš„æ³¨è§£æˆ–æ¥å£ã€‚
<strong>02ï¼‰@Documented</strong>
ç±»å’Œæ–¹æ³•çš„Annotationåœ¨ç¼ºçœæƒ…å†µä¸‹æ˜¯ä¸å‡ºç°åœ¨javadocä¸­çš„ã€‚å¦‚æœä½¿ç”¨@Documentedä¿®é¥°è¯¥Annotationï¼Œåˆ™è¡¨ç¤ºå®ƒå¯ä»¥å‡ºç°åœ¨javadocä¸­ã€‚
å®šä¹‰Annotationæ—¶ï¼Œ@Documentedå¯æœ‰å¯æ— ï¼›è‹¥æ²¡æœ‰å®šä¹‰ï¼Œåˆ™Annotationä¸ä¼šå‡ºç°åœ¨javadocä¸­ã€‚
<strong>03ï¼‰@Target(ElementType.TYPE)</strong>
å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼ŒElementTypeæ˜¯Annotationçš„ç±»å‹å±æ€§ã€‚è€Œ@Targetçš„ä½œç”¨ï¼Œå°±æ˜¯æ¥æŒ‡å®šAnnotationçš„ç±»å‹å±æ€§ã€‚
@Target(ElementType.TYPE)çš„æ„æ€å°±æ˜¯æŒ‡å®šè¯¥Annotationçš„ç±»å‹æ˜¯ElementType.TYPEã€‚è¿™å°±æ„å‘³ç€ï¼ŒMyAnnotation1æ˜¯æ¥ä¿®é¥°â€œç±»ï¼Œæ¥å£ï¼ˆåŒ…æ‹¬æ³¨é‡Šç±»å‹ï¼‰æˆ–æšä¸¾å£°æ˜â€çš„æ³¨è§£ã€‚
å®šä¹‰Annotationæ—¶ï¼Œ@Targetå¯æœ‰å¯æ— ã€‚è‹¥æœ‰@Targetï¼Œåˆ™è¯¥Annotationåªèƒ½ç”¨äºå®ƒæ‰€æŒ‡å®šçš„åœ°æ–¹ï¼›è‹¥æ²¡æœ‰@Targetï¼Œåˆ™è¯¥Annotationå¯ä»¥ç”¨äºä»»ä½•åœ°æ–¹ã€‚
<strong>04ï¼‰@Retention(Retention.RUNTIME)</strong>
å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼ŒRetentionPolicyæ˜¯Annotationçš„ç­–ç•¥å±æ€§ï¼Œè€Œ@Retentionçš„ä½œç”¨ï¼Œå°±æ˜¯æŒ‡å®šAnnotationçš„ç­–ç•¥å±æ€§ã€‚
@Retention(RetentionPolicy.RUNTIME) çš„æ„æ€å°±æ˜¯æŒ‡å®šè¯¥Annotationçš„ç­–ç•¥æ˜¯RetentionPolicy.RUNTIMEã€‚è¿™å°±æ„å‘³ç€ï¼Œç¼–è¯‘å™¨ä¼šå°†è¯¥Annotationä¿¡æ¯ä¿ç•™åœ¨.classæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”èƒ½è¢«è™šæ‹Ÿæœºè¯»å–ã€‚
å®šä¹‰Annotationæ—¶ï¼Œ@Retentionå¯æœ‰å¯æ— ã€‚è‹¥æ²¡æœ‰@Retentionï¼Œåˆ™é»˜è®¤æ˜¯@RetentionPolicy.CLASS</p>

<h3 id="2-javaè‡ªå¸¦çš„annotation">2) Javaè‡ªå¸¦çš„Annotation</h3>
<p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬èƒ½ç†è§£ï¼š@interfaceç”¨æ¥å£°æ˜Annotationï¼Œ@Documentç”¨æ¥è¡¨ç¤ºè¯¥Annotationæ˜¯å¦ä¼šå‡ºç°åœ¨javadocä¸­ï¼Œ@Targetç”¨æ¥æŒ‡å®šAnnotationçš„ç±»å‹ï¼Œ@Retentionç”¨æ¥æŒ‡å®šAnnotationçš„ç­–ç•¥ã€‚
ç†è§£è¿™ä¸€ç‚¹ä¹‹åï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“ç†è§£Javaä¸­è‡ªå¸¦çš„Annotationçš„å®ç°ç±»ï¼Œå³Annotationæ¶æ„å›¾çš„å³åŠè¾¹ã€‚å¦‚ä¸‹å›¾ï¼š</p>

<p><img src="/images/JavaAnnotation3.png" alt="" /></p>

<p><strong>Javaå¸¸ç”¨çš„Annotationï¼š</strong></p>
<pre><code class="language-Java">@Deprecated --æ‰€æ ‡æ³¨çš„å†…å®¹ï¼Œä¸å†è¢«å»ºè®®ä½¿ç”¨
@Override   --åªèƒ½æ ‡æ³¨æ–¹æ³•ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•è¦†ç›–çˆ¶ç±»ä¸­çš„æ–¹æ³•
@Documented --æ‰€æ ‡æ³¨çš„å†…å®¹ï¼Œå¯ä»¥å‡ºç°åœ¨javadocä¸­
@Inherited  --åªèƒ½è¢«ç”¨æ¥æ ‡æ³¨â€œAnnotationç±»å‹â€ï¼Œå®ƒæ‰€æ ‡æ³¨çš„Annotationå…·æœ‰ç»§æ‰¿æ€§
@Retention  --åªèƒ½è¢«ç”¨æ¥æ ‡æ³¨â€œAnnotationç±»å‹â€ï¼Œè€Œä¸”å®ƒè¢«ç”¨æ¥æŒ‡å®šAnnotationçš„RetentionPolicyå±æ€§
@Target     --åªèƒ½è¢«ç”¨æ¥æ ‡æ³¨â€œAnnotationç±»å‹â€ï¼Œè€Œä¸”å®ƒè¢«ç”¨æ¥æŒ‡å®šAnnotationçš„ElementTypeå±æ€§
@SupressWarnings --æ‰€æ ‡æ³¨å†…å®¹äº§ç”Ÿçš„è­¦å‘Šï¼Œç¼–è¯‘å™¨ä¼šå¯¹è¿™äº›è­¦å‘Šä¿æŒé™é»˜
</code></pre>
<p>ç”±äº â€œ@Deprecated å’Œ @Overrideâ€ ç±»ä¼¼ï¼Œâ€@Documented, @Inherited, @Retention, @Targetâ€ ç±»ä¼¼ï¼›ä¸‹é¢ï¼Œæˆ‘ä»¬åªå¯¹ @Deprecated, @Inherited, @SuppressWarnings è¿™ 3 ä¸ª Annotation è¿›è¡Œè¯´æ˜ã€‚</p>

<p><strong>2.1ï¼‰@Deprecated</strong>
@Deprecated çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="language-Java">@Documented
@Retention(RetentionPolicy.RUNTIME)
public @interface Deprecated{
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
  <li>(01) @interface â€“ å®ƒè¢«ç”¨æ¥ä¿®é¥° Deprecatedï¼Œæ„å‘³ç€ Deprecated å®ç°äº† java.lang.annotation.Annotation æ¥å£ï¼›å³ Deprecated å°±æ˜¯ä¸€ä¸ªæ³¨è§£ã€‚</li>
  <li>(02) @Documented â€“ å®ƒçš„ä½œç”¨æ˜¯è¯´æ˜è¯¥æ³¨è§£èƒ½å‡ºç°åœ¨ javadoc ä¸­ã€‚</li>
  <li>(03) @Retention(RetentionPolicy.RUNTIME) â€“ å®ƒçš„ä½œç”¨æ˜¯æŒ‡å®š Deprecated çš„ç­–ç•¥æ˜¯ RetentionPolicy.RUNTIMEã€‚è¿™å°±æ„å‘³ç€ï¼Œç¼–è¯‘å™¨ä¼šå°†Deprecated çš„ä¿¡æ¯ä¿ç•™åœ¨ .class æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”èƒ½è¢«è™šæ‹Ÿæœºè¯»å–ã€‚</li>
  <li>(04) @Deprecated æ‰€æ ‡æ³¨å†…å®¹ï¼Œä¸å†è¢«å»ºè®®ä½¿ç”¨ã€‚</li>
</ul>

<p>ä¾‹å¦‚ï¼Œè‹¥æŸä¸ªæ–¹æ³•è¢« @Deprecated æ ‡æ³¨ï¼Œåˆ™è¯¥æ–¹æ³•ä¸å†è¢«å»ºè®®ä½¿ç”¨ã€‚å¦‚æœæœ‰å¼€å‘äººå‘˜è¯•å›¾ä½¿ç”¨æˆ–é‡å†™è¢« @Deprecated æ ‡ç¤ºçš„æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šç»™ç›¸åº”çš„æç¤ºä¿¡æ¯ã€‚ç¤ºä¾‹å¦‚ä¸‹:</p>

<p><img src="/images/JavaAnnotation4.png" alt="" /></p>

<p>è¯´æ˜ï¼š
ä¸Šé¢æ˜¯ eclipse ä¸­çš„æˆªå›¾ï¼Œæ¯”è¾ƒç±»ä¸­ â€œgetString1() å’Œ getString2()â€ ä»¥åŠ â€œtestDate() å’Œ testCalendar()â€ ã€‚
(01) getString1() è¢« @Deprecated æ ‡æ³¨ï¼Œæ„å‘³ç€å»ºè®®ä¸å†ä½¿ç”¨ getString1(); æ‰€ä»¥ getString1() çš„å®šä¹‰å’Œè°ƒç”¨æ—¶ï¼Œéƒ½ä¼šä¸€æ¨ªçº¿ã€‚è¿™ä¸€æ¨ªçº¿æ˜¯eclipse() å¯¹ @Deprecated æ–¹æ³•çš„å¤„ç†ã€‚
getString2() æ²¡æœ‰è¢« @Deprecated æ ‡æ³¨ï¼Œå®ƒçš„æ˜¾ç¤ºæ­£å¸¸ã€‚
(02) testDate() è°ƒç”¨äº† Date çš„ç›¸å…³æ–¹æ³•ï¼Œè€Œ java å·²ç»å»ºè®®ä¸å†ä½¿ç”¨ Date æ“ä½œæ—¥æœŸ/æ—¶é—´ã€‚å› æ­¤ï¼Œåœ¨è°ƒç”¨ Dateçš„API æ—¶ï¼Œä¼šäº§ç”Ÿè­¦å‘Šä¿¡æ¯ï¼Œé€”ä¸­çš„ warningsã€‚
testCalendar() è°ƒç”¨äº† Calendar çš„ API æ¥æ“ä½œæ—¥æœŸ/æ—¶é—´ï¼Œjava å»ºè®®ç”¨ Calendar å–ä»£ Dateã€‚å› æ­¤ï¼Œæ“ä½œ Calendar ä¸ä¼šäº§ç”Ÿ warningã€‚</p>

<p><strong>2.2) @Inherited</strong>
@Inherited çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="language-Java">@Documented
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.ANNOTATION_TYPE)
public @interface Inherited{
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
  <li>(01) @interface â€“ å®ƒçš„ç”¨æ¥ä¿®é¥° Inheritedï¼Œæ„å‘³ç€ Inherited å®ç°äº† java.lang.annotation.Annotation æ¥å£ï¼›å³ Inherited å°±æ˜¯ä¸€ä¸ªæ³¨è§£ã€‚</li>
  <li>(02) @Documented â€“ å®ƒçš„ä½œç”¨æ˜¯è¯´æ˜è¯¥æ³¨è§£èƒ½å‡ºç°åœ¨ javadoc ä¸­ã€‚</li>
  <li>(03) @Retention(RetentionPolicy.RUNTIME) â€“ å®ƒçš„ä½œç”¨æ˜¯æŒ‡å®š Inherited çš„ç­–ç•¥æ˜¯ RetentionPolicy.RUNTIMEã€‚è¿™å°±æ„å‘³ç€ï¼Œç¼–è¯‘å™¨ä¼šå°† Inherited çš„ä¿¡æ¯ä¿ç•™åœ¨ .class æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”èƒ½è¢«è™šæ‹Ÿæœºè¯»å–ã€‚</li>
  <li>(04) @Target(ElementType.ANNOTATION_TYPE) â€“ å®ƒçš„ä½œç”¨æ˜¯æŒ‡å®š Inherited çš„ç±»å‹æ˜¯ ANNOTATION_TYPEã€‚è¿™å°±æ„å‘³ç€ï¼Œ@Inherited åªèƒ½è¢«ç”¨æ¥æ ‡æ³¨ â€œAnnotation ç±»å‹â€ã€‚</li>
  <li>(05) @Inherited çš„å«ä¹‰æ˜¯ï¼Œå®ƒæ‰€æ ‡æ³¨çš„Annotationå°†å…·æœ‰ç»§æ‰¿æ€§ã€‚</li>
</ul>

<p>å‡è®¾ï¼Œæˆ‘ä»¬å®šä¹‰äº†æŸä¸ª Annotaionï¼Œå®ƒçš„åç§°æ˜¯ MyAnnotationï¼Œå¹¶ä¸” MyAnnotation è¢«æ ‡æ³¨ä¸º @Inheritedã€‚ç°åœ¨ï¼ŒæŸä¸ªç±» Base ä½¿ç”¨äº† MyAnnotationï¼Œåˆ™ Base â€œå…·æœ‰äº†æ³¨è§£ MyAnnotationâ€ï¼›ç°åœ¨ï¼ŒSub ç»§æ‰¿äº† Baseï¼Œç”±äº MyAnnotation æ˜¯ @Inheritedçš„(å…·æœ‰ç»§æ‰¿æ€§)ï¼Œæ‰€ä»¥ï¼ŒSub ä¹Ÿ â€œå…·æœ‰äº†æ³¨è§£ MyAnnotationâ€ã€‚</p>

<p>@Inheritedçš„ä½¿ç”¨ç¤ºä¾‹ï¼š
InheritableSon.java</p>
<pre><code class="language-Java">import java.lang.annotation.Target;  
import java.lang.annotation.ElementType;  
import java.lang.annotation.Retention;  
import java.lang.annotation.RetentionPolicy;  
import java.lang.annotation.Inherited;  
  
/**  
Â * è‡ªå®šä¹‰çš„Annotationã€‚  
Â */  
@Target(ElementType.TYPE)  
@Retention(RetentionPolicy.RUNTIME)  
@Inherited  
@interface Inheritable  
{  
}  
  
@Inheritable  
class InheritableFather  
{  
 public InheritableFather() {  
 // InheritableBaseæ˜¯å¦å…·æœ‰ Inheritable Annotation  
 System.out.println("InheritableFather:"+InheritableFather.class.isAnnotationPresent(Inheritable.class));  
 }  
}  
  
/**  
Â * InheritableSon ç±»åªæ˜¯ç»§æ‰¿äº InheritableFatherï¼Œ  
Â */  
public class InheritableSon extends InheritableFather  
{  
 public InheritableSon() {  
 super(); // è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°  
 // InheritableSonç±»æ˜¯å¦å…·æœ‰ Inheritable Annotation  
 System.out.println("InheritableSon:"+InheritableSon.class.isAnnotationPresent(Inheritable.class));  
 }  
   
 public static void main(String[] args)  
 {  
 InheritableSon is = new InheritableSon();  
 }  
}
</code></pre>

<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>InheritableFather:true 
InheritableSon:true
</code></pre></div></div>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯¹ InheritableSon.java è¿›è¡Œä¿®æ”¹ï¼šæ³¨é‡Šæ‰ â€œInheritable çš„ @Inherited æ³¨è§£â€ã€‚
InheritableSon.java</p>
<pre><code class="language-Java">import java.lang.annotation.Target;  
import java.lang.annotation.ElementType;  
import java.lang.annotation.Retention;  
import java.lang.annotation.RetentionPolicy;  
import java.lang.annotation.Inherited;  
  
/**  
Â * è‡ªå®šä¹‰çš„Annotationã€‚  
Â */  
@Target(ElementType.TYPE)  
@Retention(RetentionPolicy.RUNTIME)  
//@Inherited  
@interface Inheritable  
{  
}  
  
@Inheritable  
class InheritableFather  
{  
 public InheritableFather() {  
 // InheritableBaseæ˜¯å¦å…·æœ‰ Inheritable Annotation  
 System.out.println("InheritableFather:"+InheritableFather.class.isAnnotationPresent(Inheritable.class));  
 }  
}  
  
/**  
Â * InheritableSon ç±»åªæ˜¯ç»§æ‰¿äº InheritableFatherï¼Œ  
Â */  
public class InheritableSon extends InheritableFather  
{  
 public InheritableSon() {  
 super(); // è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°  
 // InheritableSonç±»æ˜¯å¦å…·æœ‰ Inheritable Annotation  
 System.out.println("InheritableSon:"+InheritableSon.class.isAnnotationPresent(Inheritable.class));  
 }  
   
 public static void main(String[] args)  
 {  
 InheritableSon is = new InheritableSon();  
 }  
}
</code></pre>

<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>InheritableFather:true 
InheritableSon:false
</code></pre></div></div>
<p>å¯¹æ¯”ä¸Šé¢çš„ä¸¤ä¸ªç»“æœï¼Œæˆ‘ä»¬å‘ç°ï¼šå½“æ³¨è§£Inheritableè¢«@Inheritedæ ‡æ³¨æ—¶ï¼Œå®ƒå…·æœ‰ç»§æ‰¿æ€§ã€‚å¦åˆ™ï¼Œæ²¡æœ‰ç»§æ‰¿æ€§ã€‚</p>

<p><strong>2.3ï¼‰@SupressWarnings</strong>
@SuppressWarnings çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="language-Java">@Target({TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR, LOCAL_VARIABLE}) @Retention(RetentionPolicy.SOURCE) 
public @interface SuppressWarnings { String[] value(); }
</code></pre>
<p>è¯´æ˜ï¼š
(01) @interface â€“ å®ƒçš„ç”¨æ¥ä¿®é¥° SuppressWarningsï¼Œæ„å‘³ç€ SuppressWarnings å®ç°äº† java.lang.annotation.Annotation æ¥å£ï¼›å³ SuppressWarnings å°±æ˜¯ä¸€ä¸ªæ³¨è§£ã€‚
(02) @Retention(RetentionPolicy.SOURCE) â€“ å®ƒçš„ä½œç”¨æ˜¯æŒ‡å®š SuppressWarnings çš„ç­–ç•¥æ˜¯ RetentionPolicy.SOURCEã€‚è¿™å°±æ„å‘³ç€ï¼ŒSuppressWarnings ä¿¡æ¯ä»…å­˜åœ¨äºç¼–è¯‘å™¨å¤„ç†æœŸé—´ï¼Œç¼–è¯‘å™¨å¤„ç†å®Œä¹‹å SuppressWarnings å°±æ²¡æœ‰ä½œç”¨äº†ã€‚
(03) @Target({TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR, LOCAL_VARIABLE}) â€“ å®ƒçš„ä½œç”¨æ˜¯æŒ‡å®š SuppressWarnings çš„ç±»å‹åŒæ—¶åŒ…æ‹¬TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR, LOCAL_VARIABLEã€‚
(04) String[] value(); æ„å‘³ç€ï¼ŒSuppressWarnings èƒ½æŒ‡å®šå‚æ•°
(05) SuppressWarnings çš„ä½œç”¨æ˜¯ï¼Œè®©ç¼–è¯‘å™¨å¯¹â€å®ƒæ‰€æ ‡æ³¨çš„å†…å®¹â€çš„æŸäº›è­¦å‘Šä¿æŒé™é»˜ã€‚ä¾‹å¦‚ï¼Œâ€@SuppressWarnings(value={â€œdeprecationâ€, â€œuncheckedâ€})â€ è¡¨ç¤ºå¯¹â€å®ƒæ‰€æ ‡æ³¨çš„å†…å®¹â€ä¸­çš„ â€œSuppressWarnings ä¸å†å»ºè®®ä½¿ç”¨è­¦å‘Šâ€å’Œâ€æœªæ£€æŸ¥çš„è½¬æ¢æ—¶çš„è­¦å‘Šâ€ä¿æŒæ²‰é»˜ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š
â€¦â€¦</p>

<p>è¯´æ˜ï¼š
(01) å·¦è¾¹çš„å›¾ä¸­ï¼Œæ²¡æœ‰ä½¿ç”¨ @SuppressWarnings(value={â€œdeprecationâ€}) , è€Œ Date å±äº java ä¸å†å»ºè®®ä½¿ç”¨çš„ç±»ã€‚å› æ­¤ï¼Œè°ƒç”¨ Date çš„ API æ—¶ï¼Œä¼šäº§ç”Ÿè­¦å‘Šã€‚è€Œå³è¾¹çš„é€”ä¸­ï¼Œä½¿ç”¨äº† @SuppressWarnings(value={â€œdeprecationâ€})ã€‚å› æ­¤ï¼Œç¼–è¯‘å™¨å¯¹â€è°ƒç”¨ Date çš„ API äº§ç”Ÿçš„è­¦å‘Šâ€ä¿æŒæ²‰é»˜ã€‚
è¡¥å……ï¼šSuppressWarnings å¸¸ç”¨çš„å…³é”®å­—çš„è¡¨æ ¼</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deprecation -- ä½¿ç”¨äº†ä¸èµæˆä½¿ç”¨çš„ç±»æˆ–æ–¹æ³•æ—¶çš„è­¦å‘Š 
unchecked -- æ‰§è¡Œäº†æœªæ£€æŸ¥çš„è½¬æ¢æ—¶çš„è­¦å‘Šï¼Œä¾‹å¦‚å½“ä½¿ç”¨é›†åˆæ—¶æ²¡æœ‰ç”¨æ³›å‹ (Generics) æ¥æŒ‡å®šé›†åˆä¿å­˜çš„ç±»å‹ã€‚ 
fallthrough -- å½“ Switch ç¨‹åºå—ç›´æ¥é€šå¾€ä¸‹ä¸€ç§æƒ…å†µè€Œæ²¡æœ‰ Break æ—¶çš„è­¦å‘Šã€‚ 
path -- åœ¨ç±»è·¯å¾„ã€æºæ–‡ä»¶è·¯å¾„ç­‰ä¸­æœ‰ä¸å­˜åœ¨çš„è·¯å¾„æ—¶çš„è­¦å‘Šã€‚ 
serial -- å½“åœ¨å¯åºåˆ—åŒ–çš„ç±»ä¸Šç¼ºå°‘ serialVersionUID å®šä¹‰æ—¶çš„è­¦å‘Šã€‚ 
finally -- ä»»ä½• finally å­å¥ä¸èƒ½æ­£å¸¸å®Œæˆæ—¶çš„è­¦å‘Šã€‚ 
all -- å…³äºä»¥ä¸Šæ‰€æœ‰æƒ…å†µçš„è­¦å‘Šã€‚
</code></pre></div></div>

<h2 id="4annotationçš„ä½œç”¨">4ã€Annotationçš„ä½œç”¨</h2>
<p>Annotationæ˜¯ä¸€ä¸ªè¾…åŠ©ç±»ï¼Œå®ƒåœ¨Junitã€Strutsã€Springç­‰å·¥å…·æ¡†æ¶ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚
æˆ‘ä»¬åœ¨ç¼–ç¨‹ä¸­ç»å¸¸ä¼šä½¿ç”¨åˆ°çš„Annotationä½œç”¨æœ‰ï¼š</p>

<h3 id="1ç¼–è¯‘æ£€æŸ¥">1ï¼‰ç¼–è¯‘æ£€æŸ¥</h3>
<p>Annotationå…·æœ‰â€œè®©ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘æ£€æŸ¥çš„ä½œç”¨â€ã€‚
ä¾‹å¦‚ï¼Œ@SupressWarningsï¼Œ@Deprecatedå’Œ@Overrideéƒ½å…·æœ‰ç¼–è¯‘æ£€æŸ¥ä½œç”¨ã€‚</p>

<h3 id="2åœ¨åå°„ä¸­ä½¿ç”¨annotation">2ï¼‰åœ¨åå°„ä¸­ä½¿ç”¨Annotation</h3>
<p>åœ¨åå°„çš„Classã€Methodã€Fieldç­‰å‡½æ•°ä¸­ï¼Œæœ‰è®¸å¤šä¸Annotationç›¸å…³çš„æ¥å£ã€‚
è¿™ä¹Ÿæ„å‘³ç€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åå°„ä¸­è§£æå¹¶ä½¿ç”¨Annotationã€‚</p>

<h3 id="3æ ¹æ®annotationç”Ÿæˆå¸®åŠ©æ–‡ä»¶">3ï¼‰æ ¹æ®Annotationç”Ÿæˆå¸®åŠ©æ–‡ä»¶</h3>
<p>é€šè¿‡ç»™ Annotation æ³¨è§£åŠ ä¸Š @Documented æ ‡ç­¾ï¼Œèƒ½ä½¿è¯¥ Annotation æ ‡ç­¾å‡ºç°åœ¨ javadoc ä¸­ã€‚</p>
<h3 id="4èƒ½å¤Ÿå¸®å¿™æŸ¥çœ‹ä»£ç ">4ï¼‰èƒ½å¤Ÿå¸®å¿™æŸ¥çœ‹ä»£ç </h3>
<p>é€šè¿‡ @Override, @Deprecated ç­‰ï¼Œæˆ‘ä»¬èƒ½å¾ˆæ–¹ä¾¿çš„äº†è§£ç¨‹åºçš„å¤§è‡´ç»“æ„ã€‚
å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ Annotation æ¥å®ç°ä¸€äº›åŠŸèƒ½ã€‚</p>

:ET